#!/bin/sh
#
# http://github.com/mitchweaver/bin
#
# Records a selected rectangle with ffmpeg.
#

video_path=${1:-"${HOME}/med/vid/caps/record-`date '+%Y%m%d%H%M'`.mp4"}

set -- `crud`

ffmpeg -y -f x11grab \
	   -s ${3}x${4} \
	   -r 30 \
	   -i ${DISPLAY}.0+${1},${2} \
	   -q:v 0 \
	   -pix_fmt yuv420p \
	   ${video_path}
