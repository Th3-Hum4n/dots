#!/bin/dash

cur_date="$(date +%u)"
os="$(cat /etc/os-release)"

update() {
    case ${os} in
        (*arch*) sudo pacman -Syu;;
        (*void*) sudo xbps-install -Suv;;
    esac
}

dejunk() {
    case ${os} in
        (*arch*) sudo pacman -Scc;;
        (*void*) sudo xbps-remove -Oo;;
    esac
}

search() {
    case ${os} in
        (*arch*) pacman -Ss ${@};;
        (*void*) xbps-query -s ${@};;
    esac
}

details() {
    case ${os} in
        (*arch*) pacman -Qi ${@};;
        (*void*) xbps-query -S ${@};;
    esac
}

arg=${1}
shift

case ${arg} in
    (-u|--update) update;;
    (-d|--dejunk) dejunk;;
    (-s|--search) search "${@}";;
    (-D|--details) details "${@}";;
esac
