#!/bin/dash
# a battery thingy
base_dir='/sys/class/power_supply/'
# check if its BAT0 or BAT1
[ -d "${base_dir}/BAT0" ] && bat_dir='BAT0' || bat_dir='BAT1'

get_status() {
    # get the battery status
    # is charging or discharging
    local status="$(cat "${base_dir}/${bat_dir}/status")"
    echo ${status}
}

get_percent() {
    local percent="$(cat "${base_dir}/${bat_dir}/capacity")"
    echo ${percent}
}

while [ $# -gt 0 ]; do
    case "$1" in
        -p) get_percent;;
        -s) get_status;;
    esac
    shift
done
