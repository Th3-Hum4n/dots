#!/bin/dash
#
# http://github.com/mitchweaver/bin
#
# Records a selected rectangle with ffmpeg.
#

[ $# -eq 0 ] && video_path="$HOME/var/videos/captures/record-$(date '+%b_%d-%H:%M')" || video_path=$1
#set $(slop -q -o -f '%x %y %w %h')

ffmpeg -y -f x11grab -s $(res -w)x$(res -h) \
    -r 30 -i :1.0+$(res -w),$(res -h) -qscale 0 \
    $video_path.mp4 \
> /dev/null 2>&1
